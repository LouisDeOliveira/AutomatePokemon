from enum import Enum, auto
import numpy as np


class PokemonType(Enum):
    normal = 0
    fire = 1
    water = 2
    electric = 3
    grass = 4
    ice = 5
    fighting = 6
    poison = 7
    ground = 8
    flying = 9
    psychic = 10
    bug = 11
    rock = 12
    ghost = 13
    dragon = 14
    dark = 15
    steel = 16
    fairy = 17


class TypeUtils:
    colours = {
        "normal": "#A8A77A",
        "fire": "#EE8130",
        "water": "#6390F0",
        "electric": "#F7D02C",
        "grass": "#7AC74C",
        "ice": "#96D9D6",
        "fighting": "#C22E28",
        "poison": "#A33EA1",
        "ground": "#E2BF65",
        "flying": "#A98FF3",
        "psychic": "#F95587",
        "bug": "#A6B91A",
        "rock": "#B6A136",
        "ghost": "#735797",
        "dragon": "#6F35FC",
        "dark": "#705746",
        "steel": "#B7B7CE",
        "fairy": "#D685AD",
    }

    strength_matrix = np.array(
        [
            [
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                0.5,
                0,
                1.0,
                1.0,
                0.5,
                1.0,
            ],
            [
                1.0,
                0.5,
                0.5,
                1.0,
                2.0,
                2.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                0.5,
                1.0,
                0.5,
                1.0,
                2.0,
                1.0,
            ],
            [
                1.0,
                2.0,
                0.5,
                1.0,
                0.5,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                0.5,
                1.0,
                1.0,
                1.0,
            ],
            [
                1.0,
                1.0,
                2.0,
                0.5,
                0.5,
                1.0,
                1.0,
                1.0,
                0,
                2.0,
                1.0,
                1.0,
                1.0,
                1.0,
                0.5,
                1.0,
                1.0,
                1.0,
            ],
            [
                1.0,
                0.5,
                2.0,
                1.0,
                0.5,
                1.0,
                1.0,
                0.5,
                2.0,
                0.5,
                1.0,
                0.5,
                2.0,
                1.0,
                0.5,
                1.0,
                0.5,
                1.0,
            ],
            [
                1.0,
                0.5,
                0.5,
                1.0,
                2.0,
                0.5,
                1.0,
                1.0,
                2.0,
                2.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                0.5,
                1.0,
            ],
            [
                2.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                0.5,
                1.0,
                0.5,
                0.5,
                0.5,
                2.0,
                0,
                1.0,
                2.0,
                2.0,
                0.5,
            ],
            [
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                1.0,
                0.5,
                0.5,
                1.0,
                1.0,
                1.0,
                0.5,
                0.5,
                1.0,
                1.0,
                0,
                2.0,
            ],
            [
                1.0,
                2.0,
                1.0,
                2.0,
                0.5,
                1.0,
                1.0,
                2.0,
                1.0,
                0,
                1.0,
                0.5,
                2.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
            ],
            [
                1.0,
                1.0,
                1.0,
                0.5,
                2.0,
                1.0,
                2.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                0.5,
                1.0,
                1.0,
                1.0,
                0.5,
                1.0,
            ],
            [
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                2.0,
                1.0,
                1.0,
                0.5,
                1.0,
                1.0,
                1.0,
                1.0,
                0,
                0.5,
                1.0,
            ],
            [
                1.0,
                0.5,
                1.0,
                1.0,
                2.0,
                1.0,
                0.5,
                0.5,
                1.0,
                0.5,
                2.0,
                1.0,
                1.0,
                0.5,
                1.0,
                2.0,
                0.5,
                0.5,
            ],
            [
                1.0,
                2.0,
                1.0,
                1.0,
                1.0,
                2.0,
                0.5,
                1.0,
                0.5,
                2.0,
                1.0,
                2.0,
                1.0,
                1.0,
                1.0,
                1.0,
                0.5,
                1.0,
            ],
            [
                0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                1.0,
                2.0,
                1.0,
                0.5,
                1.0,
                1.0,
            ],
            [
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                0.5,
                0,
            ],
            [
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                0.5,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                1.0,
                2.0,
                1.0,
                0.5,
                1.0,
                0.5,
            ],
            [
                1.0,
                0.5,
                0.5,
                0.5,
                1.0,
                2.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                1.0,
                1.0,
                1.0,
                0.5,
                2.0,
            ],
            [
                1.0,
                0.5,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                0.5,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                1.0,
                2.0,
                2.0,
                0.5,
                1.0,
            ],
        ]
    )

    @classmethod
    def get_score(cls, attacking: PokemonType, defending: PokemonType):
        return cls.strength_matrix[attacking.value][defending.value]

    @classmethod
    def get_color(cls, pokemon: PokemonType):
        return cls.hex_to_rgb(cls.colours[pokemon.name])

    @classmethod
    def hex_to_rgb(cls, hex_color):
        return tuple(int(hex_color[i : i + 2], 16) for i in (1, 3, 5))


if __name__ == "__main__":
    pokemon = PokemonType.electric
    pokemon2 = PokemonType.ground
    print(TypeUtils.get_score(pokemon2, pokemon))
